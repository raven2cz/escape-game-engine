{
  "meta": { "id": "warp-engine", "name": "Dialogs" },

  "characters": [
    {
      "id": "astronaut",
      "name": "Astronautka",
      "poses": {
        "idle":     "assets/npc/astronaut/idle.webp",
        "thinking": "assets/npc/astronaut/thinking.webp",
        "angry":    "assets/npc/astronaut/angry.webp",
        "happy":    "assets/npc/astronaut/happy.webp"
      }
    },
    {
      "id": "newton",
      "name": "Isaac Newton",
      "poses": {
        "idle":     "assets/npc/newton/idle.webp",
        "thinking": "assets/npc/newton/thinking.webp",
        "angry":    "assets/npc/newton/angry.webp",
        "happy":    "assets/npc/newton/happy.webp"
      }
    },
    {
      "id": "volta",
      "name": "Alessandro Volta",
      "poses": {
        "idle":     "assets/npc/volta/idle.webp",
        "thinking": "assets/npc/volta/thinking.webp",
        "angry":    "assets/npc/volta/angry.webp",
        "happy":    "assets/npc/volta/happy.webp"
      }
    },
    {
      "id": "faraday",
      "name": "Michael Faraday",
      "poses": {
        "idle":     "assets/npc/faraday/idle.webp",
        "thinking": "assets/npc/faraday/thinking.webp",
        "angry":    "assets/npc/faraday/angry.webp",
        "happy":    "assets/npc/faraday/happy.webp"
      }
    },
    {
      "id": "hertz",
      "name": "Heinrich Hertz",
      "poses": {
        "idle":     "assets/npc/hertz/idle.webp",
        "thinking": "assets/npc/hertz/thinking.webp",
        "angry":    "assets/npc/hertz/angry.webp",
        "happy":    "assets/npc/hertz/happy.webp"
      }
    },
    {
      "id": "tesla",
      "name": "Nikola Tesla",
      "poses": {
        "idle":     "assets/npc/tesla/idle.webp",
        "thinking": "assets/npc/tesla/thinking.webp",
        "angry":    "assets/npc/tesla/angry.webp",
        "happy":    "assets/npc/tesla/happy.webp"
      }
    },
    {
      "id": "edison",
      "name": "Thomas A. Edison",
      "poses": {
        "idle":     "assets/npc/edison/idle.webp",
        "thinking": "assets/npc/edison/thinking.webp",
        "angry":    "assets/npc/edison/angry.webp",
        "happy":    "assets/npc/edison/happy.webp"
      }
    },
    {
      "id": "einstein",
      "name": "Albert Einstein",
      "poses": {
        "idle":     "assets/npc/einstein/idle.webp",
        "thinking": "assets/npc/einstein/thinking.webp",
        "angry":    "assets/npc/einstein/angry.webp",
        "happy":    "assets/npc/einstein/happy.webp"
      }
    }
  ],

  "dialogs": [
    {
      "id": "intro.start",
      "once": true,
      "title": "Trhlina v realitě",
      "left":  { "characterId": "astronaut", "defaultPose": "idle" },
      "ui": { "tapToNext": true, "allowSkip": false },
      "sequence": [
        { "id": "s1", "speaker": "left", "pose": "angry",    "text": "Konečně! Zachytila jsem tvůj signál. Poslouchej, tenhle průchod dlouho neudržím. Vidíš ten chaos? To není chyba simulace, to se nám před očima rozpadá samotná realita." },
        { "id": "s2", "speaker": "left", "pose": "thinking", "text": "Píše se rok 2050. Naše jediná naděje je u jiných hvězd. Máme lodě, máme prototyp warpového motoru, ale... přestal fungovat. Zjistili jsme proč: z historie mizí klíčové fyzikální objevy. Někdo gumuje vědu z časové osy." },
        { "id": "s3", "speaker": "left", "pose": "idle",     "text": "Pokud Newton nepochopí sílu a Hertz nezachytí vlnu, naše technologie nikdy nevznikne. Otevřela jsem bránu do Řeky času. Musíš najít vědce v jejich rozhodujícím okamžiku a postrčit je správným směrem. Jsi naše poslední šance!" }
      ],
      "onEnd": { "setFlags": ["intro_seen"] }
    },

    {
      "id": "main.start",
      "once": true,
      "title": "Řeka času",
      "left":  { "characterId": "astronaut", "defaultPose": "idle" },
      "ui": { "tapToNext": true, "allowSkip": false },
      "sequence": [
        { "id": "m1", "speaker": "left", "pose": "idle",    "text": "Jsme uvnitř. Vítej v Řece času. Tady se dějiny nepíšou inkoustem, ale čistou energií. Všechno, co vidíš, je surový tok lidského poznání." },
        { "id": "m2", "speaker": "left", "pose": "thinking","text": "Ty plovoucí ostrovy jsou zlomové body historie. Okamžiky, kdy se zrodila myšlenka, která změnila svět. Teď jsou ale rozbité. Vědci jsou zmatení a jejich experimenty nedávají smysl." },
        { "id": "m3", "speaker": "left", "pose": "happy",   "text": "Musíme to opravit od základů. Fyzika je jako pyramida, nejde začít špičkou. Podívej se dolů. Vidíš tu jabloň? Tam to všechno začíná. Klikni na Newtonův ostrov a pojďme zachránit gravitaci." }
      ],
      "onEnd": { "setFlags": ["main_seen"] }
    },

    {
      "id": "newton.intro",
      "once": true,
      "title": "Newton pod jabloní",
      "left":  { "characterId": "newton",    "defaultPose": "thinking" },
      "right": { "characterId": "astronaut", "defaultPose": "idle" },
      "ui": { "tapToNext": true, "allowSkip": true },
      "sequence": [
        { "id": "n1", "speaker": "left",  "pose": "thinking", "text": "U všech nebeských sfér... Proč to jablko padá kolmo k zemi? Proč neletí do strany nebo vzhůru? Musí v tom být nějaká univerzální síla." },
        { "id": "n2", "speaker": "right", "pose": "idle",     "text": "Isaacu, jsi na správné stopě. Stejná síla, co táhne jablko, drží i Měsíc. Ale máš v poznámkách zmatek. Pojďme si ujasnit tvé tři zákony pohybu." }
      ]
    },
    {
      "id": "newton.outro",
      "once": true,
      "title": "Principia zachráněna",
      "left":  { "characterId": "newton", "defaultPose": "happy" },
      "ui": { "tapToNext": true, "allowSkip": false },
      "sequence": [
        { "id": "nx1", "speaker": "left", "pose": "happy", "text": "Ano! Setrvačnost, síla a reakce. Vesmír je jako obří hodinový stroj poháněný gravitací. Děkuji, cizinče, má Principia Mathematica je nyní kompletní." }
      ]
    },

    {
      "id": "volta.intro",
      "once": true,
      "title": "Napětí u Volty",
      "left":  { "characterId": "volta",     "defaultPose": "angry" },
      "right": { "characterId": "astronaut", "defaultPose": "thinking", "mirror": true },
      "ui": { "tapToNext": true, "allowSkip": true },
      "sequence": [
        { "id": "v1", "speaker": "left",  "pose": "angry", "text": "Maledizione! Galvani a ty jeho žabí stehýnka... Já vím, že elektřina vzniká dotykem kovů, ne ve svalech! Ale tenhle sloup nefunguje. Zkoušel jsem suchý papír, dřevo... a nic!" },
        { "id": "v2", "speaker": "right", "pose": "thinking", "mirror": true, "text": "Alessandro, aby kovy reagovaly, musíš je něčím propojit. Suchý papír nevede proud. Potřebuješ elektrolyt – slanou vodu. Pojďme vybrat správné materiály pro tvůj sloup." }
      ]
    },
    {
      "id": "volta.outro",
      "once": true,
      "title": "První baterie",
      "left":  { "characterId": "volta", "defaultPose": "happy" },
      "ui": { "tapToNext": true, "allowSkip": false },
      "sequence": [
        { "id": "vx1", "speaker": "left", "pose": "happy", "text": "Funguje to! Zinek, stříbro a papír nasáklý solným roztokem. Cítím to brnění na jazyku! Stálý elektrický proud je na světě." }
      ]
    },

    {
      "id": "faraday.intro",
      "once": true,
      "title": "Hledání indukce",
      "left":  { "characterId": "faraday",   "defaultPose": "thinking" },
      "right": { "characterId": "astronaut", "defaultPose": "idle" },
      "ui": { "tapToNext": true, "allowSkip": true },
      "sequence": [
        { "id": "f1", "speaker": "left",  "pose": "thinking", "text": "Vím, že elektřina a magnetismus k sobě patří. Mám cívku, mám magnet, ale ručička galvanometru se ani nepohne. Kde dělám chybu?" },
        { "id": "f2", "speaker": "right", "pose": "idle",     "text": "Chybí ti změna, Michaele. Magnetické pole musí pracovat. Zkusíme ten experiment znovu, ale tentokrát s magnetem pohneme." }
      ]
    },
    {
      "id": "faraday.outro",
      "once": true,
      "title": "Zrození indukce",
      "left":  { "characterId": "faraday", "defaultPose": "happy" },
      "ui": { "tapToNext": true, "allowSkip": false },
      "sequence": [
        { "id": "fx1", "speaker": "left", "pose": "happy", "text": "Pohyb! Když zasunu magnet do cívky, vznikne proud. Elektřinu lze vyrobit pohybem. Tomu budu říkat elektromagnetická indukce!" }
      ]
    },

    {
      "id": "hertz.intro",
      "once": true,
      "title": "Jiskra bez drátů",
      "left":  { "characterId": "hertz",     "defaultPose": "idle", "mirror": true },
      "right": { "characterId": "astronaut", "defaultPose": "idle" },
      "ui": { "tapToNext": true, "allowSkip": true },
      "sequence": [
        { "id": "h1", "speaker": "left",  "pose": "idle", "mirror": true, "text": "Maxwellovy rovnice předpovídají neviditelné vlny, ale nikdo je neviděl. Můj jiskrový oscilátor prská, ale co se děje v prostoru? Potřebuji důkaz." },
        { "id": "h2", "speaker": "right", "pose": "idle", "mirror": true, "text": "Důkaz se objeví na druhém konci stolu, Heinrichu. Pokud se ti podaří přenést energii bez drátů do té druhé smyčky, potvrdíš existenci rádiových vln." }
      ]
    },
    {
      "id": "hertz.outro",
      "once": true,
      "title": "Rádiové vlny",
      "left":  { "characterId": "hertz", "defaultPose": "happy" },
      "ui": { "tapToNext": true, "allowSkip": false },
      "sequence": [
        { "id": "hx1", "speaker": "left", "pose": "happy", "mirror": true, "text": "Je to tam! Přeskočila jiskra i na přijímači. Energie se šíří prostorem jako neviditelné vlnění. Sice nevím, k čemu to bude dobré, ale fyzikálně je to fascinující!" }
      ]
    },

    {
      "id": "currents.intro",
      "once": true,
      "title": "Válka proudů",
      "left":  { "characterId": "edison", "defaultPose": "angry" },
      "right": { "characterId": "tesla",  "defaultPose": "angry" },
      "ui": { "tapToNext": true, "allowSkip": true },
      "sequence": [
        { "id": "c1", "speaker": "left",  "pose": "angry", "mirror": true, "text": "Nikolo, buďme realisté. Můj stejnosměrný proud je bezpečný. Lidé nechtějí doma vysoké napětí. Postavíme malé dynamo v každé ulici a bude klid." },
        { "id": "c2", "speaker": "right", "pose": "angry", "text": "Pane Edisone, to je neefektivní. Stejnosměrný proud nepřeneseš daleko, dráty by musely být tlusté jako paže. Můj střídavý systém rozsvítí celá města z jediné elektrárny." }
      ]
    },
    {
      "id": "currents.outro",
      "once": true,
      "title": "Dohoda",
      "left":  { "characterId": "tesla",  "defaultPose": "happy" },
      "right": { "characterId": "edison", "defaultPose": "thinking" },
      "ui": { "tapToNext": true, "allowSkip": false },
      "sequence": [
        { "id": "cx1", "speaker": "right", "pose": "thinking", "text": "Dobrá, transformátory mají smysl. Pro dálkový přenos je tvoje AC lepší. Ale pamatuj, baterie a elektronika budou vždy potřebovat moje DC." },
        { "id": "cx2", "speaker": "left",  "pose": "happy",    "text": "Dohodnuto. Střídavý proud propojí svět, stejnosměrný ho bude napájet lokálně. Společně jsme právě zahájili věk elektřiny." }
      ]
    },

    {
      "id": "einstein.intro",
      "once": true,
      "title": "Dvojčata v raketě",
      "left":  { "characterId": "einstein",  "defaultPose": "thinking" },
      "right": { "characterId": "astronaut", "defaultPose": "idle" },
      "ui": { "tapToNext": true, "allowSkip": true },
      "sequence": [
        { "id": "e1", "speaker": "left",  "pose": "thinking", "text": "Čas... intuice nám říká, že tiká všude stejně. Ale mé rovnice tvrdí opak. Pokud se někdo pohybuje rychle, čas pro něj musí zpomalit. Představuji si dvojčata..." },
        { "id": "e2", "speaker": "right", "pose": "idle",     "text": "Dilatace času. To je klíč k našemu warpu. Alberte, tenhle myšlenkový experiment musíme dotáhnout. Doplň chybějící proměnné do své teorie relativity." }
      ]
    },
    {
      "id": "einstein.outro",
      "once": true,
      "title": "Zvláštní relativita",
      "left":  { "characterId": "einstein", "defaultPose": "happy" },
      "ui": { "tapToNext": true, "allowSkip": false },
      "sequence": [
        { "id": "ex1", "speaker": "left", "pose": "happy", "text": "Je to tak. Rychlost světla je konstanta, ale čas ne. Cestovatel v raketě zestárne méně než jeho bratr na Zemi. Cesta ke hvězdám je teoreticky možná!" }
      ]
    },

    {
      "id": "warp-core.victory",
      "once": true,
      "title": "Warp motor: start",
      "left":  { "characterId": "astronaut", "defaultPose": "happy" },
      "ui": { "tapToNext": true, "allowSkip": false },
      "sequence": [
        { "id": "w1", "speaker": "left", "pose": "happy", "text": "Máme hotovo. Díky tobě jsme poskládali příběh vědy od Newtonova jablka až po Einsteinovu dilataci času. Warpový pohon se spouští." },
        { "id": "w2", "speaker": "left", "pose": "happy", "text": "Konzole svítí zeleně. Dějiny jsou opraveny a lidstvo může vyrazit k jiným světům. Jsi hrdina, zachránil jsi vědu i naši budoucnost. Připrav se na hyperprostorový skok! Stiskni hlavní pult pro start!" }
      ],
      "onEnd": { "setFlags": ["warp_ready_dialog_done"] }
    },

    {
      "id": "exit.victory",
      "once": true,
      "title": "Odlétáme",
      "left":  { "characterId": "astronaut", "defaultPose": "happy" },
      "ui": { "tapToNext": true, "allowSkip": false },
      "sequence": [
        { "id": "x1", "speaker": "left", "pose": "happy", "text": "Souřadnice zadány. Opouštíme sluneční soustavu. Díky za pomoc, parťáku. Bez tebe bychom uvízli v době temna." }
      ],
      "onEnd": { "setFlags": ["game_completed"] }
    }
  ]
}